---
title: 데이터 모델링
categories:
- Unkind_SQL
feature_text: |
  ## 2. 데이터 모델링
feature_image: "https://picsum.photos/2560/600?image=733"
image: "https://picsum.photos/2560/600?image=733"
---
<style>
	thead td { text-align: center; }
	td { border: 1px solid #444444; }
</style>

### 2.1. 데이터 모델
<br/>
현실 세계를 데이터베이스로 구축할 수 있도록 추상화한 것으로 요구사항을 분석하여 개념 데이터 모델을 설계하고, 데이터 베이스 모델에 따라 개념 데이터 모델을 논리 데이터 모델로 상세화한 후, DBMS에 따라 논리 데이터 모델을 물리 데이터 모델로 전환한다.

### 2.2. E-R 모델
<br/>
엔터티 타입은 인스턴스화된 엔터티의 집합이다. 엔터티는 속성으로 구성된다. 관계는 엔터티 간의 연관이고, 페어링의 집합이다. 페어링은 인스턴스 간의 연관이다.  

<table>
	<thead>
		<tr>
			<td>개념</td>
			<td>집합</td>
			<td>개별</td>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>어떤 것</td>
			<td>엔터티 타입</td>
			<td>엔터티<br/>인스턴스</td>
		</tr>
		<tr>
			<td>어떤 것의 관계</td>
			<td>관계</td>
			<td>페어링</td>
		</tr>
		<tr>
			<td>어떤 것의 특징</td>
			<td>속성</td>
			<td>속성값</td>
		</tr>
	</tbody>
</teble>
<br/>

실무에서는 엔터티 타입을 엔터티, 엔터티를 인스턴스로 부른다.  

#### 2.2.1. 엔터티
<br/>
개체로 인식할 수 있는 데이터의 집합

##### 2.2.1.1. 기본 식별자
<br/>
엔터티에서 인스턴스를 고유하게 식별할 수 있는 속성으로 엔터티는 반드시 기본 식별자를 가져야 한다.

+ 단일 식별자  
하나의 속성으로 구성된 식별자
+ 복합 식별자  
2개 이상의 속성으로 구성된 식별자

#### 2.2.2. 속성
<br/>
엔터티에서 관리되는 데이터의 최소 단위로서, 업무적으로 분리되지 않아야 하며 하나의 속성값만 가져야 한다. (하지만, 전화번호는 하나의 속성으로 설계되는 것이 일반적이지만 통신사의 경우 지역번호, 국번호, 개별번호로 분리하여 설계하기도 한다.)

##### 2.2.2.1. 도메인
<br/>
속성값의 범위를 나타내며, 물리 모델에서 데이터 타입과 제약 조건으로 변환된다.  

```sql
gender VARCHAR2(1) NOT NULL CONSTRAINT t1_c1 CHECK (성별 IN ('M', 'F'))
```

#### 2.2.3. 관계
<br/>
엔터티 간의 업무적 연관으로 하나의 엔터티는 하나 이상의 관계를 가질 수 있고, 관계를 가진 엔터티와 또 다른 관계를 가질 수 있다.  

+ 외래 식별자  
부모 엔터티로부터 상속받은 식별자

##### 2.2.3.1. 카디널리티
<br/>
하나의 부모 인스턴스가 몇 개의 자식 인스턴스와 페어링될 수 있는지를 나타낸다.  

##### 2.2.3.2. 옵셔널리티
<br/>
부모 인스턴스와 자식 인스턴스의 페어링 여부를 나타낸다.  

+ 필수(mandatory) 관계  
부모 인스턴스와 자식 인스턴스 간 페어링되어야 하는 관계
+ 상호필수(fully mandatory) 관계  
부모 인스턴스와 자식 인스턴스가 서로 페이링되어야 하는 관계
+ 선택(optional) 관계  
부모 인스턴스와 자식 인스턴스 간 페어링되지 않아도 되는 관계
+ 상호선택(fully optional) 관계  
부모 인스턴스와 자식 인스턴스가 서로 페어링되지 않아도 되는 관계  

##### 2.2.3.3. 관계 유형
<br/>
+ 식별(identifying) 관계  
부모 엔터티의 기본 식별자가 자식 엔터티의 기본 식별자 속성으로 상속되는 관계
+ 비식별(non-identifying) 관계  
부모 엔터티의 기본 식별자가 자식 엔터티의 일반 속성으로 상속되는 관계
+ 상호 배타(mutually exclusive) 관계  
엔티티 간 선택 관계이면서 서로 아무런 영향을 끼치지 않는 관계
+ 상호 포함(mutually inclusive) 관계  
엔티티 간 선택 관계이면서 서로 영향을 끼치는 관계
+ 순환(recursive) 관계  
어떤 인스턴스가 동일 엔터티의 인스턴스와 페어링되는 관계
+ 연관(associative) 엔터티
엔터티 간의 M:M 관계를 해소하기 위해 추가한 엔터티로 맺어진 엔터티
+ 이력 엔터티  
변경 이력을 관리하는 엔터티
+ 내역 엔터티  
발생 내역을 관리하는 엔터티  

### 2.3. 정규형
<br/>
데이터 이상(anomaly) 현상을 제거하기 위한 관계형 모델의 설계 지침

#### 2.3.1. 정규화(normalization)
<br/>
정규형을 위배한 릴레이션을 정규형으로 만드는 과정

#### 2.3.2. 비정규화(denormalization)
<br/>
성능 개선을 위해 의도적으로 데이터를 중복시키는 것  

### 2.4. 물리 데이터 모델  
<br/>
논리 데이터 모델은 DBMS에 따른 물리 데이터 모델로 전환된다.  

+ 엔터티 -> 테이블
+ 속성 -> 열
+ 도메인 -> 데이터 타입, NOT NULL 제약 조건, CHECK 제약 조건
+ 고유 식별자 -> PK 제약 조건
+ 외래 식별자 -> FK 제약 조건
